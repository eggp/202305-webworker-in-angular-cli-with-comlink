{"version":3,"file":"938.512d99505e28c285.js","mappings":"iWAoC+C,UAAAA,EAAA,IAAAC,QAjB/C,MAiBqBC,EAjBrBC,eAAAC,OAAAC,KAAAL,EAAA,CAAAM,UAAA,EAAAC,WAAA,IAkBWF,KAAAG,KAAO,IAAIC,KAAU,CAC5BC,IAAK,IAAIC,KAAY,GAAI,CACvBC,aAAa,EACbC,WAAYC,mBAEf,EACDC,KAAAV,KAAAL,KAAUgB,SAEVC,yBACMZ,KAAKG,KAAKU,WACXC,KAAAd,KAAIL,GAAiBoB,YAAcf,KAAKG,KAAKD,MAAMG,IAExD,CAEAW,uBACEF,OAAAd,KAAIL,GAASsB,aACf,CAEAC,4BACEJ,OAAAd,KAAIL,GAASwB,gBACXC,MAAOC,IACLC,QAAQC,IACN,8BACA,sBACAF,EAAK,GAIb,CAEAG,kCAeEV,OAAAd,KAAIL,GAAS8B,mBAdU,CACrBC,OAAQ,SACRC,SAAU,CACR,CACED,OAAQ,SACRC,SAAU,CACR,CACED,OAAQ,SACRC,SAAU,QAOtB,EA/CmB9B,SAA0B,mBAAA+B,iBAA1B/B,EAA0B,EAA1BA,EAA0B,UAAAgC,EAAAC,IAAA,MAA1BjC,EAA0BkC,UAAA,6BAAAC,YAAA,EAAAC,SAAA,CAAAC,OAAAC,MAAA,GAAAC,KAAA,EAAAC,OAAA,qSAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,ICpC/CL,MAAA,UAAAA,CAAmC,aAAnCA,CAAmC,oBAAnCA,CAAmC,oBAI1BA,MAAA,oCAA8BA,UAElCA,MAAA,qBAAAA,CACE,UADFA,CACE,cAKGA,MAAA,0BAASM,EAAAxB,qBAAqB,GAE9BkB,MAAA,mBAAYA,QACbA,MAAA,cAICA,MAAA,0BAASM,EAAAtB,0BAA0B,GAEnCgB,MAAA,yBAAiBA,QAClBA,MAAA,eAICA,MAAA,0BAASM,EAAAhB,gCAAgC,GAEzCU,MAAA,gCACFA,cAINA,MAAA,aAAyBA,MAAA,6BAAYM,EAAA5B,wBAAwB,GAC3DsB,MAAA,cAAAA,CAAU,qBAAVA,CAAU,qBAGHA,MAAA,+BAAwBA,UAG7BA,MAAA,sBAAAA,CAAkB,oBAAlBA,CAAkB,gBAEHA,MAAA,cAAOA,QAClBA,MAAA,cACFA,UAEFA,MAAA,wBAAAA,CAA8B,eACKA,MAAA,WAAIA,uBAdrCA,MAAA,IAAAA,MAAA,YAAAM,EAAArC,sBDVJsC,KACAC,KAAmBC,6BAEnBC,KAAeC,KACfC,KAAaC,yBACbC,KAAkBC,UAClBC,IAAcC,KACdC,KACAC,MAAeC,OAAA,2RAKEzD,CAA0B","names":["_worker","WeakMap","ComlinkWorkerDemoComponent","constructor","_classPrivateFieldInitSpec","this","writable","value","form","FormGroup","msg","FormControl","nonNullable","validators","Validators","_classPrivateFieldSet","getWorkerFromRouterData","onSubmitSetParamString","valid","_classPrivateFieldGet","paramString","onWorkerCallParamFn","callParamFn","onWorkerCallWithCallback","withCallback","proxy","param","console","log","onWorkerCallParamComplexObject","paramComplexObject","param1","children","t","_angular_core__WEBPACK_IMPORTED_MODULE_6__","Xpm","selectors","standalone","features","i0","decls","vars","consts","template","rf","ctx","CommonModule","ReactiveFormsModule","i1","MatButtonModule","i2","MatCardModule","i3","MatFormFieldModule","i4","MatInputModule","i5","MatListModule","MatSliderModule","styles"],"sourceRoot":"webpack:///","sources":["./src/app/comlink-worker-demo/comlink-worker-demo.component.ts","./src/app/comlink-worker-demo/comlink-worker-demo.component.html"],"sourcesContent":["import { Component } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {\n  FormControl,\n  FormGroup,\n  ReactiveFormsModule,\n  Validators,\n} from '@angular/forms';\nimport { RouterLink } from '@angular/router';\nimport { proxy } from 'comlink';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { MatListModule } from '@angular/material/list';\nimport { MatSliderModule } from '@angular/material/slider';\nimport { WorkerDto } from './worker/type/worker.dto';\nimport { getWorkerFromRouterData } from './provider/worker.provider';\n\n@Component({\n  selector: 'app-comlink-web-worker',\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    RouterLink,\n    MatButtonModule,\n    MatCardModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatListModule,\n    MatSliderModule,\n  ],\n  templateUrl: './comlink-worker-demo.component.html',\n  styleUrls: ['./comlink-worker-demo.component.scss'],\n})\nexport default class ComlinkWorkerDemoComponent {\n  readonly form = new FormGroup({\n    msg: new FormControl('', {\n      nonNullable: true,\n      validators: Validators.required,\n    }),\n  });\n  #worker = getWorkerFromRouterData();\n\n  onSubmitSetParamString() {\n    if (this.form.valid) {\n      (this.#worker as any).paramString = this.form.value.msg!;\n    }\n  }\n\n  onWorkerCallParamFn() {\n    this.#worker.callParamFn();\n  }\n\n  onWorkerCallWithCallback() {\n    this.#worker.withCallback(\n      proxy((param: number) => {\n        console.log(\n          '[ComlinkWebWorkerComponent]',\n          'withCallback call: ',\n          param\n        );\n      })\n    );\n  }\n\n  onWorkerCallParamComplexObject() {\n    const dto: WorkerDto = {\n      param1: 'param1',\n      children: [\n        {\n          param1: 'param2',\n          children: [\n            {\n              param1: 'param3',\n              children: [],\n            },\n          ],\n        },\n      ],\n    };\n    this.#worker.paramComplexObject(dto);\n  }\n}\n","<div class=\"center-center wrapper\">\n  <mat-card\n    ><mat-card-header\n      ><mat-card-title\n        >Extra communication usage demo</mat-card-title\n      ></mat-card-header\n    ><mat-card-content\n      ><div style=\"display: flex; flex-direction: column; gap: 0.5rem\">\n        <button\n          type=\"button\"\n          mat-raised-button\n          color=\"accent\"\n          (click)=\"onWorkerCallParamFn()\"\n        >\n          Call paramFn</button\n        ><button\n          type=\"button\"\n          mat-raised-button\n          color=\"accent\"\n          (click)=\"onWorkerCallWithCallback()\"\n        >\n          Call withCallback</button\n        ><button\n          type=\"button\"\n          mat-raised-button\n          color=\"accent\"\n          (click)=\"onWorkerCallParamComplexObject()\"\n        >\n          Call paramComplexObject\n        </button>\n      </div></mat-card-content\n    ></mat-card\n  >\n  <form [formGroup]=\"form\" (ngSubmit)=\"onSubmitSetParamString()\">\n    <mat-card>\n      <mat-card-header\n        ><mat-card-title\n          >Call worker class setter</mat-card-title\n        ></mat-card-header\n      >\n      <mat-card-content>\n        <mat-form-field>\n          <mat-label>Message</mat-label>\n          <input matInput type=\"text\" formControlName=\"msg\" />\n        </mat-form-field>\n      </mat-card-content>\n      <mat-card-actions align=\"end\">\n        <button type=\"submit\" mat-button>Send</button>\n      </mat-card-actions>\n    </mat-card>\n  </form>\n</div>\n"],"x_google_ignoreList":[]}