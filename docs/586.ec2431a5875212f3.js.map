{"version":3,"file":"586.ec2431a5875212f3.js","mappings":"wWA4BaA,MAAA,aACEA,MAAA,GAAsDA,wCAAtDA,MAAA,GAAAA,MAAA,GAAAC,EAAAC,MAAAC,OAAA,MAAAF,EAAAC,MAAAE,IAAA,8BAJJJ,MAAA,qBAAAA,CACE,aACEA,MAAA,GAA8CA,QAChDA,MAAA,EAAAK,EAAA,eAEAL,kCAHEA,MAAA,GAAAA,MAAA,GAAAC,EAAAK,GAAAH,OAAA,MAAAF,EAAAK,GAAAF,IAAA,IACqBJ,MAAA,GAAAA,MAAA,YAAAO,IAAAN,EAAAC,MAAA,2BARhCF,MAAA,eAAAA,CACG,oBADHA,CACG,oBACkBA,MAAA,cAAQA,UAC1BA,MAAA,qBAAAA,CACE,gBACEA,MAAA,EAAAQ,EAAA,uBAMAR,uCANmDA,MAAA,GAAAA,MAAA,UAAAS,EAAA,2BAN5DT,MAAA,GACEA,MAAA,EAAAU,EAAA,kBAcCV,6BAdUA,MAAA,GAAAA,MAAA,OAAAS,EAAAE,OAAA,YCW+B,UAAAC,EAAA,IAAAC,QAf9C,MAeqBC,EAfrBC,eAAAC,OAAAC,KAAAL,EAAA,CAAAM,UAAA,EAAAC,WAAA,IAgBWF,KAAAG,KAAO,IAAIC,KAAU,CAC5BjB,IAAK,IAAIkB,KAAY,GAAI,CACvBC,aAAa,EACbC,WAAYC,kBAGPR,KAAAS,UAAY,IAAIC,IAKvB,KAAE,EACJC,KAAAX,KAAAL,KAAUiB,SAEVC,YACEC,OAAAd,KAAIL,GAASoB,UAAY,EAAGC,WAE1B,MAAMC,EAAWjB,KAAKS,UAAUS,WAChCD,EAASA,EAASvB,OAAS,GAAGT,MAAQ,CACpCE,IAAK6B,EACL9B,OAAQc,KAAKmB,aAEfnB,KAAKS,UAAUW,KAAK,IAAIH,IACxBjB,KAAKG,KAAKkB,SACVrB,KAAKG,KAAKmB,OAAK,CAEnB,CAEAC,gBAAgBpC,IACd2B,OAAAd,KAAIL,GAAS6B,YAAYrC,EAC3B,CAEAsC,WACE,GAAIzB,KAAKG,KAAKuB,MAAO,CACnB,MAAMvC,EAAMa,KAAKG,KAAKD,MAAMf,IAC5Ba,KAAKG,KAAKwB,UACV3B,KAAKS,UAAUW,KACbpB,KAAKS,UACFS,WACAU,OAAO,CAAEvC,GAAI,CAAEF,MAAKD,OAAQc,KAAKmB,gBAEtCnB,KAAKuB,gBAAgBpC,EAAG,CAE5B,CAEQgC,YACN,WAAWU,MAAOC,UACpB,EAhDmBjC,SAAyB,mBAAAkC,iBAAzBlC,EAAyB,EAAzBA,EAAyB,UAAAmC,EAAAC,IAAA,MAAzBpC,EAAyBqC,UAAA,4BAAAC,YAAA,EAAAC,SAAA,CAAArD,OAAAsD,MAAA,GAAAC,KAAA,EAAAC,OAAA,mXAAAC,SAAA,SAAAC,EAAAC,GAAA,EAAAD,ID/B9C1D,MAAA,UAAAA,CAAmC,YACRA,MAAA,6BAAY2D,EAAAjB,UAAU,GAC7C1C,MAAA,aAAAA,CAAU,oBAAVA,CAAU,oBAGHA,MAAA,4BAAsBA,UAG3BA,MAAA,qBAAAA,CAAkB,mBAAlBA,CAAkB,eAEHA,MAAA,aAAOA,QAClBA,MAAA,iBACFA,UAEFA,MAAA,wBAAAA,CAA8B,eACKA,MAAA,WAAIA,cAI3CA,MAAA,GAAA4D,EAAA,wCAiBF5D,eAnCQA,MAAA,GAAAA,MAAA,YAAA2D,EAAAvC,MAkBSpB,MAAA,IAAAA,MAAA,OAAAA,MAAA,KAAA2D,EAAAjC,4BCCbmC,KAAYC,eACZC,KAAmBC,6BACnBC,KAAaC,yBACbC,KAAeC,KACfC,KAAkBC,UAClBC,IAAcC,KACdC,KAAaC,qBAAAC,OAAA,2gBAKI7D,CAAyB","names":["i0","message_r4","reply","create","msg","NativeWorkerDemoComponent_ng_container_14_mat_card_1_mat_list_item_6_span_3_Template","to","undefined","NativeWorkerDemoComponent_ng_container_14_mat_card_1_mat_list_item_6_Template","messages_r1","NativeWorkerDemoComponent_ng_container_14_mat_card_1_Template","length","_worker","WeakMap","NativeWorkerDemoComponent","constructor","_classPrivateFieldInitSpec","this","writable","value","form","FormGroup","FormControl","nonNullable","validators","Validators","messages$","BehaviorSubject","_classPrivateFieldSet","getWorkerFromRouterData","ngOnInit","_classPrivateFieldGet","onmessage","data","messages","getValue","nowString","next","enable","reset","sendTestMessage","postMessage","onSubmit","valid","disable","concat","Date","toString","t","_angular_core__WEBPACK_IMPORTED_MODULE_1__","Xpm","selectors","standalone","features","decls","vars","consts","template","rf","ctx","NativeWorkerDemoComponent_ng_container_14_Template","CommonModule","i1","ReactiveFormsModule","i2","MatCardModule","i3","MatButtonModule","i4","MatFormFieldModule","i5","MatInputModule","i6","MatListModule","i7","styles"],"sourceRoot":"webpack:///","sources":["./src/app/native-worker-demo/native-worker-demo.component.html","./src/app/native-worker-demo/native-worker-demo.component.ts"],"sourcesContent":["<div class=\"center-center wrapper\">\n  <form [formGroup]=\"form\" (ngSubmit)=\"onSubmit()\">\n    <mat-card>\n      <mat-card-header\n        ><mat-card-title\n          >Send message to worker</mat-card-title\n        ></mat-card-header\n      >\n      <mat-card-content>\n        <mat-form-field>\n          <mat-label>Message</mat-label>\n          <textarea matInput formControlName=\"msg\" rows=\"5\"></textarea>\n        </mat-form-field>\n      </mat-card-content>\n      <mat-card-actions align=\"end\">\n        <button type=\"submit\" mat-button>Send</button>\n      </mat-card-actions>\n    </mat-card>\n  </form>\n  <ng-container *ngIf=\"messages$ | async as messages\">\n    <mat-card *ngIf=\"messages.length > 0\" class=\"messages\"\n      ><mat-card-header\n        ><mat-card-title>Messages</mat-card-title></mat-card-header\n      ><mat-card-content\n        ><mat-list role=\"list\"\n          ><mat-list-item role=\"listitem\" *ngFor=\"let message of messages\"\n            ><span matListItemTitle\n              >{{ message.to.create }} | {{ message.to.msg }}</span\n            ><span matListItemLine *ngIf=\"message.reply !== undefined\"\n              >{{ message.reply!.create }} | {{ message.reply!.msg }}</span\n            ></mat-list-item\n          ></mat-list\n        ></mat-card-content\n      ></mat-card\n    ></ng-container\n  >\n</div>\n","import { Component, OnInit } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport {\n  FormControl,\n  FormGroup,\n  ReactiveFormsModule,\n  Validators,\n} from '@angular/forms';\nimport { MatCardModule } from '@angular/material/card';\nimport { MatButtonModule } from '@angular/material/button';\nimport { MatFormFieldModule } from '@angular/material/form-field';\nimport { MatInputModule } from '@angular/material/input';\nimport { BehaviorSubject } from 'rxjs';\nimport { MatListModule } from '@angular/material/list';\nimport { getWorkerFromRouterData } from './provider/worker.provider';\n\n@Component({\n  selector: 'app-simple-web-worker',\n  standalone: true,\n  imports: [\n    CommonModule,\n    ReactiveFormsModule,\n    MatCardModule,\n    MatButtonModule,\n    MatFormFieldModule,\n    MatInputModule,\n    MatListModule,\n  ],\n  templateUrl: './native-worker-demo.component.html',\n  styleUrls: ['./native-worker-demo.component.scss'],\n})\nexport default class NativeWorkerDemoComponent implements OnInit {\n  readonly form = new FormGroup({\n    msg: new FormControl('', {\n      nonNullable: true,\n      validators: Validators.required,\n    }),\n  });\n  readonly messages$ = new BehaviorSubject<\n    {\n      to: { msg: string; create: string };\n      reply?: { msg: string; create: string };\n    }[]\n  >([]);\n  #worker = getWorkerFromRouterData();\n\n  ngOnInit() {\n    this.#worker.onmessage = ({ data }) => {\n      // console.log('[SimpleWebWorkerComponent]', `got message: ${data}`);\n      const messages = this.messages$.getValue();\n      messages[messages.length - 1].reply = {\n        msg: data,\n        create: this.nowString(),\n      };\n      this.messages$.next([...messages]);\n      this.form.enable();\n      this.form.reset();\n    };\n  }\n\n  sendTestMessage(msg: string) {\n    this.#worker.postMessage(msg);\n  }\n\n  onSubmit() {\n    if (this.form.valid) {\n      const msg = this.form.value.msg!;\n      this.form.disable();\n      this.messages$.next(\n        this.messages$\n          .getValue()\n          .concat({ to: { msg, create: this.nowString() } })\n      );\n      this.sendTestMessage(msg);\n    }\n  }\n\n  private nowString() {\n    return new Date().toString();\n  }\n}\n"],"x_google_ignoreList":[]}