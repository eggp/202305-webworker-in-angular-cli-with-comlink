{"version":3,"file":"939.0ab093844932dd0a.js","mappings":"yOAGO,MAAMA,EAAuBA,QAE9BC,OAAOC,EAAAC,GAAA,IAAIC,IAAIF,EAAAG,EAAAH,EAAAI,EAAA,IAAAJ,EAAAK,KAERC,EACXC,GACGA,EAAKC,OAAOC,YAEJC,EAA0BA,OACrCC,OAAOC,MAAgBC,SAASN,KAAKC,gFCLhC,MAAMM,EAAkB,CAC7B,CACEC,KAAM,GACNC,cAAeA,IAAMC,QAAAC,IAAA,CAAAlB,EAAAmB,EAAA,KAAAnB,EAAAmB,EAAA,OAAAC,KAAApB,EAAAqB,KAAArB,EAAA,OACrBsB,QAAS,CACPd,OAAQV,MAEVyB,cAAe,CACb,CACEC,EACAC,QAEAnB,MAAsBmB,EAAalB,OAC5B,MAMfmB,EAAeZ","names":["nativeWorkerProvider","Worker","__webpack_require__","tu","URL","p","u","b","destroyWorkerProvider","data","worker","terminate","getWorkerFromRouterData","inject","ActivatedRoute","snapshot","ROUTES","path","loadComponent","Promise","all","e","then","bind","resolve","canDeactivate","component","currentRoute","__WEBPACK_DEFAULT_EXPORT__"],"sourceRoot":"webpack:///","sources":["./src/app/native-worker-demo/provider/worker.provider.ts","./src/app/native-worker-demo/routes.ts"],"sourcesContent":["import { ActivatedRoute } from '@angular/router';\nimport { inject } from '@angular/core';\n\nexport const nativeWorkerProvider = () =>\n  // create native worker\n  new Worker(new URL('./../worker/simple.worker', import.meta.url));\n\nexport const destroyWorkerProvider = (\n  data: { worker: Worker } // destroy worker\n) => data.worker.terminate();\n\nexport const getWorkerFromRouterData = () =>\n  inject(ActivatedRoute).snapshot.data['worker'] as Worker;\n","import { ActivatedRouteSnapshot, Route } from '@angular/router';\nimport type NativeWorkerDemoComponent from './native-worker-demo.component';\nimport {\n  destroyWorkerProvider,\n  nativeWorkerProvider,\n} from './provider/worker.provider';\n\nexport const ROUTES: Route[] = [\n  {\n    path: '',\n    loadComponent: () => import('./native-worker-demo.component'),\n    resolve: {\n      worker: nativeWorkerProvider,\n    },\n    canDeactivate: [\n      (\n        component: NativeWorkerDemoComponent,\n        currentRoute: ActivatedRouteSnapshot\n      ) => {\n        destroyWorkerProvider(currentRoute.data as { worker: Worker });\n        return true;\n      },\n    ],\n  },\n];\n\nexport default ROUTES;\n"],"x_google_ignoreList":[]}